[⬅️ 上一页: 教程：模糊测试入门](教程：模糊测试入门.md) 🚦 [下一页: 如何编写Go代码 ➡️](如何编写Go代码.md)

[返回上一级: 入门 ⬆️](../入门.md)

# 编写网络应用程序

## 简介

本教程所涵盖的内容:

- 用加载和保存方法创建一个数据结构
- 使用net/http包来建立网络应用程序
- 使用html/template包来处理HTML模板
- 使用regexp包来验证用户的输入
- 使用闭包

假设知识：

- 编程经验
- 了解基本的网络技术（HTTP，HTML）。
- 一些`UNIX/DOS`命令行知识

### 入门

目前，你需要有一台FreeBSD、Linux、macOS或Windows机器来运行Go。我们将用$来代表命令提示符。

安装Go（见[安装说明](下载和安装Go.md)）。

在你的GOPATH中为这个教程建立一个新的目录，然后CD到它:

```bash
$ mkdir gowiki
$ cd gowiki
```

创建一个名为wiki.go的文件，在你喜欢的编辑器中打开它，并添加以下几行:

```go
package main

import (
    "fmt"
    "os"
)
```

我们从Go标准库中导入fmt和os包。以后，随着我们实现更多的功能，我们将在这个导入声明中添加更多的包。

### 数据结构

让我们先来定义一下数据结构。一个wiki由一系列相互关联的页面组成，每个页面都有一个标题和一个正文（页面内容）。在这里，我们将Page定义为一个结构，有两个字段代表标题和正文。

```go
type Page struct {
    Title string
    Body  []byte
}
```

类型[]byte意味着 "一个字节的切片"。(关于切片的更多信息,参见[切片:使用方法和内部结构](#)）Body元素是一个[]byte而不是字符串，因为这是我们将使用的io库所期望的类型，你将在下面看到。

Page结构描述了页面数据在内存中的存储方式。但是持久化存储呢？我们可以通过在Page上创建一个保存方法来解决这个问题:

```go
func (p *Page) save() error {
    filename := p.Title + ".txt"
    return os.WriteFile(filename, p.Body, 0600)
}
```

这个方法的签名是这样的"这是一个名为save的方法，它的接收者是p，一个指向Page的指针。它不接受任何参数，并返回一个错误类型的值"。

### 介绍net/http包（插曲）

### 使用net/http来服务维基页面

### 编辑页面

### html/template包

### 处理不存在的页面

### 保存页面

### 错误处理

### 模板缓存

### 验证

### 函数字面量和闭包的介绍

### 试试吧!

### 其他任务

[返回顶部 🔝](#编写网络应用程序)